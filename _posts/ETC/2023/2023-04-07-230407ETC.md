---
title: "패키징 이슈"
layout: single
categories: ETC
author_profile: true
sidebar_main: true
tag: [ETC]
toc: true
published: true
---


ETC
{: .notice--success}


ProjectH를 패키징을 하는데, 한번 Shipping으로 패키징을 해보니 무려 10시간이나 걸렸다.

내 컴퓨터가 개발용으로 사용하기에는 조금 부적절한 스펙이기는 하나 그럼에도 10시간이나 걸리는 것을 보고, 회사에서 만드는 AAA급 게임들은 도대체 몇시간이 걸릴지 상상이 안된다.  

더군다가 막상 패키징을해서 플레이를 해보니 에디터 상에서 플레이할땐 전혀 문제가 없었지만, 패키징 후에 플레이 해보니 버그가 좀 일어났다.   
에디터상에서와 패키징된 상태에서는 뭔가 로딩과정이 다른걸지도 모르겠다. 특히 [BeginPlay]와 관련있는 것들에서 크래쉬가 났다.   

데이터를 [BeginPlay]에서 게임 인스턴스에 셋업하고 다른 액터가 그것을 참조하는 방식을 가진 구조에서 크래쉬가 난 것을 보고 [BeginPlay]가 아닌 [PostInitializeComponents]를 사용해서 먼저 셋업을 진행해주니 크래쉬가 사라졌다.

또한 에디터 상에서는 프레임이 60~80수준으로 잘나오다가 패키징을하니 갑자기 30프레임으로 떨어지는 상태도 있는데.. 서칭해보니 언리얼엔진5에서 이런 현상이 일어나는 것 같다.    
아마 루멘이 동적 라이팅이다보니 무거워서 인 걸 지도 모르겠다. 이건 계속 확인해봐야겠다.

에디터에는 문제없고 패키징상태에서 이제 확인을 해야하니 Development로 패키징을 하고있는데, 한번 Shipping으로 해서 그런지 그 뒤에는 몇분이면 패키징이 완료되었다.  

> 하지만 그것도 지금 내가 루멘셋팅이나 디스턴스 필드같은 프로젝트 설정을 몇개 건들면서 쉐이더 컴파일을 한 번 진행했더니 오래 걸리고 있다. (지금 이 글을 쓰고 있는 현재 진행 중.)  

패키징은 처음 해보는 것 이였는데 언리얼5 자체가 용량이 커서 걱정했는데 포장된 것을 보니 의외로 용량도 작아서 놀랐다.

이번 작품은 아무래도 패키징 자체를 한 번도 해본적이 없다보니 전혀 생각에 없었는데, 이번일을 계기로 다음번 부터는 패키징까지 생각하면서 작업해야겠다는 생각이 들었다. (특히 로딩 순서)


***
